# Self-Critique Chain Pipeline Configuration

application:
  name: "self-critique-pipeline"
  version: "1.0.0"
  environment: "development"

claude:
  model: "claude-sonnet-4-20250514"
  max_tokens: 4096
  default_temperature: 0.3
  
  stage_temperatures:
    stage1_summarization: 0.3
    stage2_critique: 0.5
    stage3_revision: 0.3

monitoring:
  enabled: true
  baseline_latency: 2.0
  anomaly_threshold_multiplier: 2.0
  satisfaction_threshold: 3.0
  log_window_size: 100
  
  export:
    format: "json"
    directory: "./logs"
    filename_pattern: "pipeline_logs_{timestamp}.json"

mlflow:
  enabled: false
  tracking_uri: "./mlruns"
  experiment_name: "self-critique-pipeline"
  
  log_artifacts:
    - "summaries"
    - "critiques"
    - "revisions"

api:
  host: "0.0.0.0"
  port: 8000
  reload: true
  workers: 1
  
  cors:
    enabled: true
    allow_origins:
      - "http://localhost:3000"
      - "http://localhost:8000"
    allow_methods:
      - "GET"
      - "POST"
    allow_headers:
      - "*"

logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  handlers:
    console:
      enabled: true
    file:
      enabled: true
      directory: "./logs"
      filename: "pipeline.log"
      max_bytes: 10485760
      backup_count: 5